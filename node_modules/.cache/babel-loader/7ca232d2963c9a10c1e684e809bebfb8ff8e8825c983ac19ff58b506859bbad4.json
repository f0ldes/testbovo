{"ast":null,"code":"import { employeeTokenCheckApi, employerTokenCheckApi, fetchData } from \"./utilsFetch\";\nconst verifyToken = async navigate => {\n  const fullUrl = window.location.href;\n  console.log('this is the full url:', fullUrl);\n  const isValidFullUrl = fullUrl.includes('http://localhost:3000/valid2.html');\n  console.log(fullUrl);\n  console.log(isValidFullUrl);\n  if (isValidFullUrl) {\n    const regex = /[?&]token=(ER|EE)([a-zA-Z0-9]+)/;\n    const matches = fullUrl.match(regex);\n    console.log('matches:', matches);\n    let userType = '';\n    let token = '';\n    if (matches) {\n      userType = matches[1];\n      console.log('userType:', userType);\n      if (userType === 'EE') {\n        token = matches[2];\n        let response = await fetchData(token, employeeTokenCheckApi);\n        console.log(response);\n        if (response.msgCode === 200) {\n          navigate('/employeeVerify');\n        } else if (response.msgCode === 300) {\n          console.error('Invalid employee token.');\n        }\n      } else if (userType === 'ER') {\n        console.log('userType:', userType);\n        token = matches[2];\n        console.log('token:', token);\n        let response = await fetchData(token, employerTokenCheckApi);\n        if (response.msgCode === 200) {\n          navigate('/employerVerify');\n        } else if (response.msgCode === 300) {\n          console.error('Invalid employer token.');\n        }\n      }\n    } else {\n      console.error('Invalid token.');\n    }\n  }\n};\nexport default verifyToken;","map":{"version":3,"names":["employeeTokenCheckApi","employerTokenCheckApi","fetchData","verifyToken","navigate","fullUrl","window","location","href","console","log","isValidFullUrl","includes","regex","matches","match","userType","token","response","msgCode","error"],"sources":["/Users/foldes/abovo/preReg/src/utils/utilsVerify.ts"],"sourcesContent":["import { employeeTokenCheckApi, employerTokenCheckApi, fetchData } from \"./utilsFetch\";\n\nconst verifyToken = async ( navigate: (path: string) => void ) => {\n    const fullUrl = window.location.href;\n    console.log('this is the full url:', fullUrl);\n\n    const isValidFullUrl = fullUrl.includes('http://localhost:3000/valid2.html')\n\n    console.log(fullUrl);\n    console.log(isValidFullUrl);\n\n    if (isValidFullUrl) {\n        const regex = /[?&]token=(ER|EE)([a-zA-Z0-9]+)/;\n        const matches = fullUrl.match(regex);\n\n        console.log('matches:', matches)\n\n    \n        let userType = '';\n        let token = '';\n\n    \n        if (matches) {\n            userType = matches[1];\n            console.log('userType:', userType);\n            if (userType === 'EE') {\n                token = matches[2]\n                let response = await fetchData(token, employeeTokenCheckApi)\n                console.log(response);\n                if (response.msgCode === 200) {\n                    navigate('/employeeVerify');\n                } else if (response.msgCode === 300) {\n                    console.error('Invalid employee token.')\n                }\n            } else if (userType === 'ER'){\n                console.log('userType:',userType);\n                token = matches[2]\n                console.log('token:', token);\n                let response = await fetchData(token, employerTokenCheckApi)\n                if (response.msgCode === 200) {\n                    navigate('/employerVerify');\n                } else if (response.msgCode === 300) {\n                    console.error('Invalid employer token.');\n                }\n            }\n        } else {\n            console.error('Invalid token.')\n        }\n    \n    }\n};\n\nexport default verifyToken;"],"mappings":"AAAA,SAASA,qBAAqB,EAAEC,qBAAqB,EAAEC,SAAS,QAAQ,cAAc;AAEtF,MAAMC,WAAW,GAAG,MAAQC,QAAgC,IAAM;EAC9D,MAAMC,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI;EACpCC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEL,OAAO,CAAC;EAE7C,MAAMM,cAAc,GAAGN,OAAO,CAACO,QAAQ,CAAC,mCAAmC,CAAC;EAE5EH,OAAO,CAACC,GAAG,CAACL,OAAO,CAAC;EACpBI,OAAO,CAACC,GAAG,CAACC,cAAc,CAAC;EAE3B,IAAIA,cAAc,EAAE;IAChB,MAAME,KAAK,GAAG,iCAAiC;IAC/C,MAAMC,OAAO,GAAGT,OAAO,CAACU,KAAK,CAACF,KAAK,CAAC;IAEpCJ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEI,OAAO,CAAC;IAGhC,IAAIE,QAAQ,GAAG,EAAE;IACjB,IAAIC,KAAK,GAAG,EAAE;IAGd,IAAIH,OAAO,EAAE;MACTE,QAAQ,GAAGF,OAAO,CAAC,CAAC,CAAC;MACrBL,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEM,QAAQ,CAAC;MAClC,IAAIA,QAAQ,KAAK,IAAI,EAAE;QACnBC,KAAK,GAAGH,OAAO,CAAC,CAAC,CAAC;QAClB,IAAII,QAAQ,GAAG,MAAMhB,SAAS,CAACe,KAAK,EAAEjB,qBAAqB,CAAC;QAC5DS,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAAC;QACrB,IAAIA,QAAQ,CAACC,OAAO,KAAK,GAAG,EAAE;UAC1Bf,QAAQ,CAAC,iBAAiB,CAAC;QAC/B,CAAC,MAAM,IAAIc,QAAQ,CAACC,OAAO,KAAK,GAAG,EAAE;UACjCV,OAAO,CAACW,KAAK,CAAC,yBAAyB,CAAC;QAC5C;MACJ,CAAC,MAAM,IAAIJ,QAAQ,KAAK,IAAI,EAAC;QACzBP,OAAO,CAACC,GAAG,CAAC,WAAW,EAACM,QAAQ,CAAC;QACjCC,KAAK,GAAGH,OAAO,CAAC,CAAC,CAAC;QAClBL,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEO,KAAK,CAAC;QAC5B,IAAIC,QAAQ,GAAG,MAAMhB,SAAS,CAACe,KAAK,EAAEhB,qBAAqB,CAAC;QAC5D,IAAIiB,QAAQ,CAACC,OAAO,KAAK,GAAG,EAAE;UAC1Bf,QAAQ,CAAC,iBAAiB,CAAC;QAC/B,CAAC,MAAM,IAAIc,QAAQ,CAACC,OAAO,KAAK,GAAG,EAAE;UACjCV,OAAO,CAACW,KAAK,CAAC,yBAAyB,CAAC;QAC5C;MACJ;IACJ,CAAC,MAAM;MACHX,OAAO,CAACW,KAAK,CAAC,gBAAgB,CAAC;IACnC;EAEJ;AACJ,CAAC;AAED,eAAejB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}