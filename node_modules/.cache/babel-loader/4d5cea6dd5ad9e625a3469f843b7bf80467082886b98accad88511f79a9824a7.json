{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Controller}from'react-hook-form';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TaxNumberInput=_ref=>{let{control,name,errors}=_ref;const[formattedValue,setFormattedValue]=useState('');const formatTaxNumber=value=>{const digits=value.replace(/\\D/g,'');const formatted=digits.replace(/(\\d{8})(\\d{1})(\\d{2})/,'$1-$2-$3');return formatted;};const handleInputChange=(value,onChange)=>{const unformattedValue=value.replace(/\\D/g,'').substring(0,11);const formatted=formatTaxNumber(unformattedValue);setFormattedValue(formatted);onChange(unformattedValue);};useEffect(()=>{setFormattedValue('');},[]);const getErrorMessage=fieldError=>{return fieldError?fieldError.message||'':'';};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-group mb-3 mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:name,children:\"Ad\\xF3sz\\xE1m\"}),/*#__PURE__*/_jsx(Controller,{name:name,control:control,rules:{required:'Ez a menző nem lehet üres.',minLength:{value:11,message:'Adószám legalább 11 karakter.'}},render:_ref2=>{let{field:{onChange,onBlur,value}}=_ref2;return/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:name,value:formattedValue||formatTaxNumber(value||''),placeholder:\"11111111-1-11\",onChange:e=>handleInputChange(e.target.value,onChange),onBlur:onBlur,className:\"form-control custom-input \".concat(errors[name]?'is-invalid':'')});}}),errors[name]&&/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:getErrorMessage(errors[name])})]});};export{TaxNumberInput};","map":{"version":3,"names":["React","useState","useEffect","Controller","jsx","_jsx","jsxs","_jsxs","TaxNumberInput","_ref","control","name","errors","formattedValue","setFormattedValue","formatTaxNumber","value","digits","replace","formatted","handleInputChange","onChange","unformattedValue","substring","getErrorMessage","fieldError","message","className","children","htmlFor","rules","required","minLength","render","_ref2","field","onBlur","type","id","placeholder","e","target","concat"],"sources":["/Users/foldes/landing_v2/landingv2/src/utils/utilsTaxInput.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Controller, Control, FieldErrors, FieldError } from 'react-hook-form';\n\ninterface TaxNumberInputProps {\n  control: Control<any>;\n  name: string;\n  errors: FieldErrors<any>;\n}\n\nconst TaxNumberInput: React.FC<TaxNumberInputProps> = ({ control, name, errors }) => {\n  const [formattedValue, setFormattedValue] = useState('');\n\n  const formatTaxNumber = (value: string): string => {\n    const digits = value.replace(/\\D/g, '');\n    const formatted = digits.replace(/(\\d{8})(\\d{1})(\\d{2})/, '$1-$2-$3');\n\n    return formatted;\n  };\n\n  const handleInputChange = (value: string, onChange: (value: string) => void) => {\n    const unformattedValue = value.replace(/\\D/g, '').substring(0, 11);\n    const formatted = formatTaxNumber(unformattedValue);\n    setFormattedValue(formatted);\n    onChange(unformattedValue);\n  };\n\n  useEffect(() => {\n    setFormattedValue('');\n  }, []);\n\n  const getErrorMessage = (fieldError: FieldError | undefined): string => {\n    return fieldError ? fieldError.message || '' : '';\n  };\n\n  return (\n    <div className=\"form-group mb-3 mt-3\">\n      <label htmlFor={name}>Adószám</label>\n      <Controller\n        name={name}\n        control={control}\n        rules={{\n          required: 'Ez a menző nem lehet üres.',\n          minLength: {\n            value: 11,\n            message: 'Adószám legalább 11 karakter.',\n          },\n        }}\n        render={({ field: { onChange, onBlur, value } }) => (\n          <input\n            type=\"text\"\n            id={name}\n            value={formattedValue || formatTaxNumber(value || '')}\n            placeholder=\"11111111-1-11\"\n            onChange={(e) => handleInputChange(e.target.value, onChange)}\n            onBlur={onBlur}\n            className={`form-control custom-input ${errors[name] ? 'is-invalid' : ''}`}\n          />\n        )}\n      />\n      {errors[name] && (\n        <div className=\"invalid-feedback\">{getErrorMessage(errors[name] as FieldError)}</div>\n      )}\n    </div>\n  );\n};\n\nexport {\n  TaxNumberInput\n};\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,KAA0C,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQ/E,KAAM,CAAAC,cAA6C,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,OAAO,CAAEC,IAAI,CAAEC,MAAO,CAAC,CAAAH,IAAA,CAC9E,KAAM,CAACI,cAAc,CAAEC,iBAAiB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAExD,KAAM,CAAAc,eAAe,CAAIC,KAAa,EAAa,CACjD,KAAM,CAAAC,MAAM,CAAGD,KAAK,CAACE,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACvC,KAAM,CAAAC,SAAS,CAAGF,MAAM,CAACC,OAAO,CAAC,uBAAuB,CAAE,UAAU,CAAC,CAErE,MAAO,CAAAC,SAAS,CAClB,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAACJ,KAAa,CAAEK,QAAiC,GAAK,CAC9E,KAAM,CAAAC,gBAAgB,CAAGN,KAAK,CAACE,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAACK,SAAS,CAAC,CAAC,CAAE,EAAE,CAAC,CAClE,KAAM,CAAAJ,SAAS,CAAGJ,eAAe,CAACO,gBAAgB,CAAC,CACnDR,iBAAiB,CAACK,SAAS,CAAC,CAC5BE,QAAQ,CAACC,gBAAgB,CAAC,CAC5B,CAAC,CAEDpB,SAAS,CAAC,IAAM,CACdY,iBAAiB,CAAC,EAAE,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,eAAe,CAAIC,UAAkC,EAAa,CACtE,MAAO,CAAAA,UAAU,CAAGA,UAAU,CAACC,OAAO,EAAI,EAAE,CAAG,EAAE,CACnD,CAAC,CAED,mBACEnB,KAAA,QAAKoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCvB,IAAA,UAAOwB,OAAO,CAAElB,IAAK,CAAAiB,QAAA,CAAC,eAAO,CAAO,CAAC,cACrCvB,IAAA,CAACF,UAAU,EACTQ,IAAI,CAAEA,IAAK,CACXD,OAAO,CAAEA,OAAQ,CACjBoB,KAAK,CAAE,CACLC,QAAQ,CAAE,4BAA4B,CACtCC,SAAS,CAAE,CACThB,KAAK,CAAE,EAAE,CACTU,OAAO,CAAE,+BACX,CACF,CAAE,CACFO,MAAM,CAAEC,KAAA,MAAC,CAAEC,KAAK,CAAE,CAAEd,QAAQ,CAAEe,MAAM,CAAEpB,KAAM,CAAE,CAAC,CAAAkB,KAAA,oBAC7C7B,IAAA,UACEgC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAE3B,IAAK,CACTK,KAAK,CAAEH,cAAc,EAAIE,eAAe,CAACC,KAAK,EAAI,EAAE,CAAE,CACtDuB,WAAW,CAAC,eAAe,CAC3BlB,QAAQ,CAAGmB,CAAC,EAAKpB,iBAAiB,CAACoB,CAAC,CAACC,MAAM,CAACzB,KAAK,CAAEK,QAAQ,CAAE,CAC7De,MAAM,CAAEA,MAAO,CACfT,SAAS,8BAAAe,MAAA,CAA+B9B,MAAM,CAACD,IAAI,CAAC,CAAG,YAAY,CAAG,EAAE,CAAG,CAC5E,CAAC,EACF,CACH,CAAC,CACDC,MAAM,CAACD,IAAI,CAAC,eACXN,IAAA,QAAKsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEJ,eAAe,CAACZ,MAAM,CAACD,IAAI,CAAe,CAAC,CAAM,CACrF,EACE,CAAC,CAEV,CAAC,CAED,OACEH,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}